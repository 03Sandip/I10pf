<header class="site-header header--clean" role="banner">
  <div class="container header-bar">

    <!-- Left: logo -->
    <div class="header-left">
      <a href="/" class="brand-link" aria-label="Gonotes home">
        <img id="appLogo" data-logo="images/gonotes.png" alt="Gonotes Logo" class="logo-img">
      </a>
    </div>

    <!-- Center: ONLY Gonotes Name -->
    <div class="header-center">
      <h2 class="site-title">GONOTES</h2>
    </div>

    <!-- Right: Buttons -->
    <div class="header-right">

      <!-- Cart Button -->
      <button id="cartBtn" class="icon-btn cart-btn" aria-label="View cart"
              onclick="window.location.href='/pages/cart.html'">
        <span class="cart-icon">
          <svg width="22" height="22" stroke="currentColor" fill="none" stroke-width="2">
            <circle cx="9" cy="19" r="1"></circle>
            <circle cx="17" cy="19" r="1"></circle>
            <path d="M1 1h3l3 12h12l3-9H6"></path>
          </svg>
        </span>
        <span id="cartCount" class="cart-badge">0</span>
      </button>

      <!-- My Notes (visible only when logged in) -->
      <a href="/pages/mynotes.html" id="myNotesLink" class="text-link" style="display:none;">
        My Notes
      </a>

      <!-- LOGIN LINK (hidden when logged in) -->
      <a href="/pages/login.html" id="loginLink" class="text-link">
        Log In
      </a>

      <!-- User icon + dropdown (shown only when logged in) -->
      <div id="userMenu" class="user-menu" style="display:none;">
        <button id="userMenuToggle"
                class="user-icon-btn"
                type="button"
                aria-label="User menu">
          <span id="userInitial" class="user-initial">U</span>
        </button>

        <div id="userDropdown" class="user-dropdown" style="display:none;">
          <div class="user-dropdown-header">
            <div id="userNameDisplay" class="user-name">User</div>
            <div id="userEmailDisplay" class="user-email"></div>
          </div>
          <a href="/pages/profile.html" class="user-dropdown-item">
            Profile
          </a>
          <button type="button"
                  id="logoutBtn"
                  class="user-dropdown-item user-logout-btn">
            Logout
          </button>
        </div>
      </div>


      <!-- Mobile hamburger -->
      <button id="mobileToggle" class="hamburger" aria-label="Open menu" aria-expanded="false">
        <span class="hamburger-box"><span class="hamburger-inner"></span></span>
      </button>
    </div>

  </div>

  <!-- Mobile menu -->
  <div id="mobileMenu" class="mobile-menu" aria-hidden="true">
    <ul class="mobile-nav">

      <li>
        <button id="cartBtnMobile" class="icon-btn cart-btn" aria-label="View cart"
                onclick="window.location.href='/pages/cart.html'">
          <span class="cart-icon">
            <svg width="22" height="22" stroke="currentColor" fill="none" stroke-width="2">
              <circle cx="9" cy="19" r="1"></circle>
              <circle cx="17" cy="19" r="1"></circle>
              <path d="M1 1h3l3 12h12l3-9H6"></path>
            </svg>
          </span>
          <span id="cartCountMobile" class="cart-badge">0</span>
        </button>
      </li>

      <!-- My Notes (mobile, only when logged in) -->
      <li id="myNotesItemMobile" style="display:none;">
        <a href="/pages/mynotes.html">My Notes</a>
      </li>

      <!-- Mobile LOGIN LINK (hidden when logged in) -->
      <li id="loginItemMobile">
        <a href="/pages/login.html">Log In</a>
      </li>
    </ul>
  </div>

</header>
